<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Classes &mdash; datatank_py 0.1 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="datatank_py 0.1 documentation" href="index.html" />
    <link rel="prev" title="Getting started" href="getting_started.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="getting_started.html" title="Getting started"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">datatank_py 0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="classes">
<span id="id1"></span><h1>Classes<a class="headerlink" href="#classes" title="Permalink to this headline">¶</a></h1>
<div class="section" id="dtdatafile">
<h2>DTDataFile<a class="headerlink" href="#dtdatafile" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="datatank_py.DTDataFile.DTDataFile">
<em class="property">class </em><tt class="descclassname">datatank_py.DTDataFile.</tt><tt class="descname">DTDataFile</tt><big>(</big><em>file_path</em>, <em>truncate=False</em>, <em>readonly=False</em><big>)</big><a class="headerlink" href="#datatank_py.DTDataFile.DTDataFile" title="Permalink to this definition">¶</a></dt>
<dd><p>This class roughly corresponds to the C++ DTDataFile class.</p>
<p>Higher-level access is provided for some objects (e.g., PIL image),
but it is primarily for writing arrays and strings.  In fact, all
DataTank stores is arrays and strings, with naming conventions to
define how they&#8217;re interpreted.</p>
<p>You should not have multiple DTDataFile instances open for the same
file on disk, or your file&#8217;s state will get trashed.</p>
<p>Reading values is fairly easy, and DTDataFile provides a 
dictionary-style interface to the variables.  For example,
assuming that a variable named &#8220;Array_One&#8221; exists:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">DTDataFile</span><span class="p">(</span><span class="s">&quot;a.dtbin&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="s">&quot;Array_One&quot;</span><span class="p">]</span>
</pre></div>
</div>
<p>Setting is similar, but you&#8217;re at the mercy of the type conversion
as in the write() method, and you can&#8217;t specify a time:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">DTDataFile</span><span class="p">(</span><span class="s">&quot;a.dtbin&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">[</span><span class="s">&quot;My array&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">[</span><span class="s">&quot;My array&quot;</span><span class="p">]</span>
<span class="go">array([[ 0.,  0.],</span>
<span class="go">       [ 0.,  0.]])</span>
</pre></div>
</div>
<p>Note that if you try to set the same variable name again,
an exception will be thrown.  Don&#8217;t do that.</p>
<p>You can also iterate a DTDataFile directly, and each iteration
returns a variable name.  Variable names are unordered, as in
hashing collections.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">DTDataFile</span><span class="p">(</span><span class="s">&quot;a.dtbin&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">f</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">print</span> <span class="n">name</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="s">&quot;Var&quot;</span> <span class="ow">in</span> <span class="n">f</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">print</span> <span class="n">f</span><span class="p">[</span><span class="s">&quot;Var&quot;</span><span class="p">]</span>
</pre></div>
</div>
<p>DTDataFile supports the with statement in Python 2.5 and 2.6,
so you can use this idiom to ensure resources are cleaned up:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">DTDataFile</span><span class="p">(</span><span class="s">&quot;foo.dtbin&quot;</span><span class="p">,</span> <span class="n">truncate</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span> <span class="k">as</span> <span class="n">df</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">df</span><span class="o">.</span><span class="n">write_2dmesh_one</span><span class="p">(</span><span class="n">mesh</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">dx</span><span class="p">,</span> <span class="n">dy</span><span class="p">,</span> <span class="s">&quot;FooBar&quot;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="method">
<dt id="datatank_py.DTDataFile.DTDataFile.__init__">
<tt class="descname">__init__</tt><big>(</big><em>file_path</em>, <em>truncate=False</em>, <em>readonly=False</em><big>)</big><a class="headerlink" href="#datatank_py.DTDataFile.DTDataFile.__init__" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt><em>file_path</em></dt>
<dd>absolute or relative path</dd>
<dt><em>truncate</em></dt>
<dd>whether to truncate the file if it exists (default is False)</dd>
<dt><em>readonly</em></dt>
<dd>open the file for read-only access (default is False)</dd>
</dl>
<p>The default mode is to append to a file, creating it if
it doesn&#8217;t already exist.  Passing True for truncate will
entirely clear the file&#8217;s content.</p>
</dd></dl>

<dl class="method">
<dt id="datatank_py.DTDataFile.DTDataFile.close">
<tt class="descname">close</tt><big>(</big><big>)</big><a class="headerlink" href="#datatank_py.DTDataFile.DTDataFile.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Close the underlying file object.</p>
<p>Further access to variables and names is not possible at this point
and will raise an exception.</p>
</dd></dl>

<dl class="method">
<dt id="datatank_py.DTDataFile.DTDataFile.dt_object_named">
<tt class="descname">dt_object_named</tt><big>(</big><em>key</em><big>)</big><a class="headerlink" href="#datatank_py.DTDataFile.DTDataFile.dt_object_named" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a high-level DT object, if possible, by introspection.</p>
</dd></dl>

<dl class="method">
<dt id="datatank_py.DTDataFile.DTDataFile.ordered_variable_names">
<tt class="descname">ordered_variable_names</tt><big>(</big><big>)</big><a class="headerlink" href="#datatank_py.DTDataFile.DTDataFile.ordered_variable_names" title="Permalink to this definition">¶</a></dt>
<dd><p>List of variable names ordered as in the file.</p>
</dd></dl>

<dl class="method">
<dt id="datatank_py.DTDataFile.DTDataFile.path">
<tt class="descname">path</tt><big>(</big><big>)</big><a class="headerlink" href="#datatank_py.DTDataFile.DTDataFile.path" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the file path.</p>
</dd></dl>

<dl class="method">
<dt id="datatank_py.DTDataFile.DTDataFile.resolve_name">
<tt class="descname">resolve_name</tt><big>(</big><em>name</em><big>)</big><a class="headerlink" href="#datatank_py.DTDataFile.DTDataFile.resolve_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Resolve a name in case of shared variables.</p>
<dl class="docutils">
<dt><em>name</em></dt>
<dd>A potentially shared variable name</dd>
</dl>
<p>Returns the underlying variable name, with all references resolved.
DataTank objects can be written with a shared grid, for example,
and just save a string pointing to the underlying grid name. This
saves a lot of disk space.</p>
<p>This method is pretty efficient in the common case of no redirect, as
it only reads the header.  Other cases are a bit more expensive,
but too tricky to be worth rewriting at the moment.</p>
<p>Example from <a class="reference internal" href="#datatank_py.DTStructuredGrid2D.DTStructuredGrid2D" title="datatank_py.DTStructuredGrid2D.DTStructuredGrid2D"><tt class="xref py py-class docutils literal"><span class="pre">datatank_py.DTStructuredGrid2D.DTStructuredGrid2D</span></tt></a>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">name</span> <span class="o">=</span> <span class="n">datafile</span><span class="o">.</span><span class="n">resolve_name</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
<span class="n">gridx</span> <span class="o">=</span> <span class="n">datafile</span><span class="p">[</span><span class="n">name</span> <span class="o">+</span> <span class="s">&quot;_X&quot;</span><span class="p">]</span>
<span class="n">gridy</span> <span class="o">=</span> <span class="n">datafile</span><span class="p">[</span><span class="n">name</span> <span class="o">+</span> <span class="s">&quot;_Y&quot;</span><span class="p">]</span>
<span class="n">mask</span> <span class="o">=</span> <span class="n">DTMask</span><span class="o">.</span><span class="n">from_data_file</span><span class="p">(</span><span class="n">datafile</span><span class="p">,</span> <span class="n">name</span> <span class="o">+</span> <span class="s">&quot;_dom&quot;</span><span class="p">)</span>
<span class="k">return</span> <span class="n">DTStructuredGrid2D</span><span class="p">(</span><span class="n">gridx</span><span class="p">,</span> <span class="n">gridy</span><span class="p">,</span> <span class="n">mask</span><span class="o">=</span><span class="n">mask</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="datatank_py.DTDataFile.DTDataFile.variable_named">
<tt class="descname">variable_named</tt><big>(</big><em>name</em>, <em>use_modules=False</em><big>)</big><a class="headerlink" href="#datatank_py.DTDataFile.DTDataFile.variable_named" title="Permalink to this definition">¶</a></dt>
<dd><p>Procedural API for getting a value from disk.</p>
<dl class="docutils">
<dt><em>name</em></dt>
<dd>the variable name as user-visible in the file (without the trailing nul)</dd>
<dt><em>use_modules</em></dt>
<dd>try to convert to abstract type by introspection of available modules</dd>
</dl>
<p>Returns a string, scalar, or numpy array.</p>
<p>This returns values as strings, scalars, or numpy arrays.  By default, no 
attempt is made to convert a given array to its abstract type (so you can
retrieve each plane of a 2D Bitmap object by name, but not as a PIL image).</p>
</dd></dl>

<dl class="method">
<dt id="datatank_py.DTDataFile.DTDataFile.variable_names">
<tt class="descname">variable_names</tt><big>(</big><big>)</big><a class="headerlink" href="#datatank_py.DTDataFile.DTDataFile.variable_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Unsorted list of variable names.</p>
</dd></dl>

<dl class="method">
<dt id="datatank_py.DTDataFile.DTDataFile.write">
<tt class="descname">write</tt><big>(</big><em>obj</em>, <em>name</em>, <em>dt_type=None</em>, <em>time=None</em><big>)</big><a class="headerlink" href="#datatank_py.DTDataFile.DTDataFile.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Write a single value to a file object by name.</p>
<dl class="docutils">
<dt><em>obj</em></dt>
<dd>string, numpy array, list, tuple, or scalar value</dd>
<dt><em>name</em></dt>
<dd>user-visible name of the variable</dd>
<dt><em>dt_type</em></dt>
<dd>string type used by DataTank</dd>
<dt><em>time</em></dt>
<dd>time value if this variable is time-varying</dd>
</dl>
<p>Handles various object types, and adds appropriate names so they&#8217;re visible
in DataTank.  String, scalar, ndarray, tuple, and list objects are supported,
although ndarray gives the most specific interface for precision and avoids
type conversions.</p>
<p>This method saves a 0D array (scalar) as a &#8220;Real Number&#8221;, a 1D array as a
&#8220;List of Numbers&#8221; and other shapes as &#8220;Array&#8221; by default.  Use the dt_type
parameter if you want something specific, such as &#8220;2D Point&#8221; for a point
(although the caller has to ensure the shape is correct).</p>
<p>In addition, any object that implements <tt class="xref py py-meth docutils literal"><span class="pre">__dt_type__()</span></tt> and <tt class="xref py py-meth docutils literal"><span class="pre">__dt_write__()</span></tt> methods 
can be passed, which allows saving compound types such as 2D Mesh or 2D Bitmap,
without bloating up DTDataFile with all of those types.</p>
<p>The <tt class="xref py py-meth docutils literal"><span class="pre">__dt_type__()</span></tt> method must return a DataTank type name:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">__dt_type__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="s">&quot;2D Mesh&quot;</span>
</pre></div>
</div>
<p>The <tt class="xref py py-meth docutils literal"><span class="pre">__dt_write__()</span></tt> method should use write_anonymous to save all variables as
required for the object.  The datafile argument is this DTDataFile instance.
Note that <tt class="xref py py-meth docutils literal"><span class="pre">__dt_write__()</span></tt> must not expose the variable by adding a &#8220;Seq&#8221; name, as
that is the responsibility of DTDataFile as the higher-level object.:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">__dt_write__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">datafile</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
    <span class="o">...</span>
    <span class="n">datafile</span><span class="o">.</span><span class="n">write_anonymous</span><span class="p">(</span> <span class="o">...</span> <span class="p">,</span> <span class="n">name</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="datatank_py.DTDataFile.DTDataFile.write_anonymous">
<tt class="descname">write_anonymous</tt><big>(</big><em>obj</em>, <em>name</em><big>)</big><a class="headerlink" href="#datatank_py.DTDataFile.DTDataFile.write_anonymous" title="Permalink to this definition">¶</a></dt>
<dd><p>Write an object that will not be visible in DataTank.</p>
<dl class="docutils">
<dt><em>array</em></dt>
<dd>a string, numpy array, list, or tuple</dd>
<dt><em>name</em></dt>
<dd>name of the variable</dd>
</dl>
<p>This is used for writing additional arrays and strings used by compound types,
such as a 2D Mesh, which has an additional grid array.</p>
</dd></dl>

<dl class="method">
<dt id="datatank_py.DTDataFile.DTDataFile.write_array">
<tt class="descname">write_array</tt><big>(</big><em>array</em>, <em>name</em>, <em>dt_type=None</em>, <em>time=None</em><big>)</big><a class="headerlink" href="#datatank_py.DTDataFile.DTDataFile.write_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Write an array with optional time dependence.</p>
<dl class="docutils">
<dt><em>array</em></dt>
<dd>a numpy array, list, or tuple</dd>
<dt><em>name</em></dt>
<dd>user-visible name of the array variable</dd>
<dt><em>dt_type</em></dt>
<dd>string type used by DataTank</dd>
<dt><em>time</em></dt>
<dd>time value if this variable is time-varying</dd>
</dl>
<p>This will add a string to expose it in DataTank using the dt_type parameter, 
which is a DataTank type such as &#8220;Array&#8221; or &#8220;NumberList.&#8221;  The time parameter 
is a double-precision floating point value, relative to DataTank&#8217;s time slider.</p>
<p>Note that if time dependence is used, the caller is responsible for appending
&#8220;_N&#8221; to the variable, where N is an integer &gt;= 0 and strictly increasing 
with time.  A contrived example follows:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">DTDataFile</span><span class="p">(</span><span class="s">&quot;foo.dtbin&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">point_test</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">idx</span><span class="p">,</span> <span class="n">idx</span> <span class="o">+</span> <span class="mi">10</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">double</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">point_test</span> <span class="o">=</span> <span class="n">point_test</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="n">point_test</span><span class="o">.</span><span class="n">size</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="gp">... </span>    <span class="n">tp</span> <span class="o">=</span> <span class="s">&quot;2D Point Collection&quot;</span>
<span class="gp">... </span>    <span class="n">tm</span> <span class="o">=</span> <span class="n">idx</span> <span class="o">*</span> <span class="mf">2.</span>
<span class="gp">... </span>    <span class="n">f</span><span class="o">.</span><span class="n">write_array</span><span class="p">(</span><span class="n">point_test</span><span class="p">,</span> <span class="s">&quot;Points_</span><span class="si">%d</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">idx</span><span class="p">),</span> <span class="n">dt_type</span><span class="o">=</span><span class="n">tp</span><span class="p">,</span> <span class="n">time</span><span class="o">=</span><span class="n">tm</span><span class="p">)</span>
</pre></div>
</div>
<p>Note that the actual variable type is &#8220;2D Point Collection,&#8221; and the caller
is responsible for setting the array shape correctly.  This should work for any
array-based object in DataTank.</p>
</dd></dl>

<dl class="method">
<dt id="datatank_py.DTDataFile.DTDataFile.write_string">
<tt class="descname">write_string</tt><big>(</big><em>string</em>, <em>name</em>, <em>time=None</em><big>)</big><a class="headerlink" href="#datatank_py.DTDataFile.DTDataFile.write_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Write a string with time dependence.</p>
<dl class="docutils">
<dt><em>string</em></dt>
<dd>the value to save</dd>
<dt><em>name</em></dt>
<dd>the user-visible name of the string variable</dd>
<dt><em>time</em></dt>
<dd>time value if this variable is time-varying</dd>
</dl>
<p>If this is the first time this string has been written, this method will
add a string to expose it in DataTank.  The time parameter is a 
double-precision floating point value, relative to DataTank&#8217;s time slider.</p>
<p>Note that if time dependence is used, the caller is responsible for appending
&#8220;_N&#8221; to the variable, where N is an integer &gt;= 0 and strictly increasing 
with time.  A call might look like this:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">datetime</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">DTDataFile</span><span class="p">(</span><span class="s">&quot;foo.dtbin&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">s</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">f</span><span class="o">.</span><span class="n">write_array</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="s">&quot;PointTest_</span><span class="si">%d</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">idx</span><span class="p">),</span> <span class="n">time</span><span class="o">=</span><span class="n">idx</span> <span class="o">*</span> <span class="mf">2.</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="dtmesh2d">
<h2>DTMesh2D<a class="headerlink" href="#dtmesh2d" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="datatank_py.DTMesh2D.DTMesh2D">
<em class="property">class </em><tt class="descclassname">datatank_py.DTMesh2D.</tt><tt class="descname">DTMesh2D</tt><big>(</big><em>values</em>, <em>grid=None</em>, <em>mask=None</em><big>)</big><a class="headerlink" href="#datatank_py.DTMesh2D.DTMesh2D" title="Permalink to this definition">¶</a></dt>
<dd><p>2D Mesh object.</p>
<p>This class corresponds to DataTank&#8217;s DTMesh2D object.</p>
<dl class="method">
<dt id="datatank_py.DTMesh2D.DTMesh2D.__init__">
<tt class="descname">__init__</tt><big>(</big><em>values</em>, <em>grid=None</em>, <em>mask=None</em><big>)</big><a class="headerlink" href="#datatank_py.DTMesh2D.DTMesh2D.__init__" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt><em>values</em></dt>
<dd>2D array of values</dd>
<dt><em>grid</em></dt>
<dd>(xmin, ymin, dx, dy) or None for unit grid</dd>
<dt><em>mask</em></dt>
<dd>a <a class="reference internal" href="#datatank_py.DTMask.DTMask" title="datatank_py.DTMask.DTMask"><tt class="xref py py-class docutils literal"><span class="pre">datatank_py.DTMask.DTMask</span></tt></a> instance</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="datatank_py.DTMesh2D.DTMesh2D.dt_type">
<tt class="descname">dt_type</tt><em class="property"> = ('2D Mesh', 'Mesh2D')</em><a class="headerlink" href="#datatank_py.DTMesh2D.DTMesh2D.dt_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Type strings allowed by DataTank</p>
</dd></dl>

<dl class="method">
<dt id="datatank_py.DTMesh2D.DTMesh2D.grid">
<tt class="descname">grid</tt><big>(</big><big>)</big><a class="headerlink" href="#datatank_py.DTMesh2D.DTMesh2D.grid" title="Permalink to this definition">¶</a></dt>
<dd><p>tuple with (xmin, ymin, dx, dy)</p>
</dd></dl>

<dl class="method">
<dt id="datatank_py.DTMesh2D.DTMesh2D.mask">
<tt class="descname">mask</tt><big>(</big><big>)</big><a class="headerlink" href="#datatank_py.DTMesh2D.DTMesh2D.mask" title="Permalink to this definition">¶</a></dt>
<dd><p>a <a class="reference internal" href="#datatank_py.DTMask.DTMask" title="datatank_py.DTMask.DTMask"><tt class="xref py py-class docutils literal"><span class="pre">datatank_py.DTMask.DTMask</span></tt></a> instance or None</p>
</dd></dl>

<dl class="method">
<dt id="datatank_py.DTMesh2D.DTMesh2D.values">
<tt class="descname">values</tt><big>(</big><big>)</big><a class="headerlink" href="#datatank_py.DTMesh2D.DTMesh2D.values" title="Permalink to this definition">¶</a></dt>
<dd><p>values at each grid node</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="dtstructuredgrid2d">
<h2>DTStructuredGrid2D<a class="headerlink" href="#dtstructuredgrid2d" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="datatank_py.DTStructuredGrid2D.DTStructuredGrid2D">
<em class="property">class </em><tt class="descclassname">datatank_py.DTStructuredGrid2D.</tt><tt class="descname">DTStructuredGrid2D</tt><big>(</big><em>x</em>, <em>y</em>, <em>mask=None</em><big>)</big><a class="headerlink" href="#datatank_py.DTStructuredGrid2D.DTStructuredGrid2D" title="Permalink to this definition">¶</a></dt>
<dd><p>2D structured grid object.</p>
<p>This class corresponds to DataTank&#8217;s DTStructuredGrid2D.</p>
<dl class="method">
<dt id="datatank_py.DTStructuredGrid2D.DTStructuredGrid2D.__init__">
<tt class="descname">__init__</tt><big>(</big><em>x</em>, <em>y</em>, <em>mask=None</em><big>)</big><a class="headerlink" href="#datatank_py.DTStructuredGrid2D.DTStructuredGrid2D.__init__" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>x</strong> &#8211; vector or 2D array of x values</li>
<li><strong>y</strong> &#8211; vector or 2D array of y values</li>
<li><strong>mask</strong> &#8211; optional <a class="reference internal" href="#datatank_py.DTMask.DTMask" title="datatank_py.DTMask.DTMask"><tt class="xref py py-class docutils literal"><span class="pre">datatank_py.DTMask.DTMask</span></tt></a> object</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Note: if a full 2D array is passed, it must be ordered as (y, x)
for compatibility with DataTank.  When using vectors, this is handled
automatically.</p>
</dd></dl>

<dl class="method">
<dt id="datatank_py.DTStructuredGrid2D.DTStructuredGrid2D.bounding_box">
<tt class="descname">bounding_box</tt><big>(</big><big>)</big><a class="headerlink" href="#datatank_py.DTStructuredGrid2D.DTStructuredGrid2D.bounding_box" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a <a class="reference internal" href="#datatank_py.DTRegion2D.DTRegion2D" title="datatank_py.DTRegion2D.DTRegion2D"><tt class="xref py py-class docutils literal"><span class="pre">datatank_py.DTRegion2D.DTRegion2D</span></tt></a> instance</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="datatank_py.DTStructuredGrid2D.DTStructuredGrid2D.full_x">
<tt class="descname">full_x</tt><big>(</big><big>)</big><a class="headerlink" href="#datatank_py.DTStructuredGrid2D.DTStructuredGrid2D.full_x" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a 2D array of all x-values</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="datatank_py.DTStructuredGrid2D.DTStructuredGrid2D.full_y">
<tt class="descname">full_y</tt><big>(</big><big>)</big><a class="headerlink" href="#datatank_py.DTStructuredGrid2D.DTStructuredGrid2D.full_y" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a 2D array of all y-values</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="datatank_py.DTStructuredGrid2D.DTStructuredGrid2D.mask">
<tt class="descname">mask</tt><big>(</big><big>)</big><a class="headerlink" href="#datatank_py.DTStructuredGrid2D.DTStructuredGrid2D.mask" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a <a class="reference internal" href="#datatank_py.DTMask.DTMask" title="datatank_py.DTMask.DTMask"><tt class="xref py py-class docutils literal"><span class="pre">datatank_py.DTMask.DTMask</span></tt></a> instance or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="datatank_py.DTStructuredGrid2D.DTStructuredGrid2D.shape">
<tt class="descname">shape</tt><big>(</big><big>)</big><a class="headerlink" href="#datatank_py.DTStructuredGrid2D.DTStructuredGrid2D.shape" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the logical grid size (y, x), even if stored as vectors.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="dtmask">
<h2>DTMask<a class="headerlink" href="#dtmask" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="datatank_py.DTMask.DTMask">
<em class="property">class </em><tt class="descclassname">datatank_py.DTMask.</tt><tt class="descname">DTMask</tt><big>(</big><em>mask_values</em><big>)</big><a class="headerlink" href="#datatank_py.DTMask.DTMask" title="Permalink to this definition">¶</a></dt>
<dd><p>Mask object corresponding to DataTank&#8217;s DTMask.</p>
<p>This is typically used to mask out a portion of a mesh or
structured grid. Note that not all mesh types support a
mask in DataTank.</p>
<p>The internal storage for this object mimics that used in
DTSource&#8217;s C++ DTMask. It&#8217;s very compact, but can be confusing
to work with. If you&#8217;re doing manual hit-testing, it&#8217;s easiest
to just use <a class="reference internal" href="#datatank_py.DTMask.DTMask.mask_array" title="datatank_py.DTMask.DTMask.mask_array"><tt class="xref py py-meth docutils literal"><span class="pre">datatank_py.DTMask.DTMask.mask_array()</span></tt></a> to
get an array matching the logical shape of your masked object.</p>
<dl class="method">
<dt id="datatank_py.DTMask.DTMask.__init__">
<tt class="descname">__init__</tt><big>(</big><em>mask_values</em><big>)</big><a class="headerlink" href="#datatank_py.DTMask.DTMask.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new mask.</p>
<dl class="docutils">
<dt><em>mask_values</em></dt>
<dd>array of ones and zeroes, covering the full extent of the array to be masked.</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="datatank_py.DTMask.DTMask.dt_type">
<tt class="descname">dt_type</tt><em class="property"> = ('Mask', 'DTMask')</em><a class="headerlink" href="#datatank_py.DTMask.DTMask.dt_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Type strings allowed by DataTank</p>
</dd></dl>

<dl class="classmethod">
<dt id="datatank_py.DTMask.DTMask.from_data_file">
<em class="property">classmethod </em><tt class="descname">from_data_file</tt><big>(</big><em>datafile</em>, <em>name</em><big>)</big><a class="headerlink" href="#datatank_py.DTMask.DTMask.from_data_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Instantiates a <a class="reference internal" href="#datatank_py.DTMask.DTMask" title="datatank_py.DTMask.DTMask"><tt class="xref py py-class docutils literal"><span class="pre">datatank_py.DTMask.DTMask</span></tt></a> from a 
<a class="reference internal" href="#datatank_py.DTDataFile.DTDataFile" title="datatank_py.DTDataFile.DTDataFile"><tt class="xref py py-class docutils literal"><span class="pre">datatank_py.DTDataFile.DTDataFile</span></tt></a>, using the given variable name</p>
</dd></dl>

<dl class="method">
<dt id="datatank_py.DTMask.DTMask.m">
<tt class="descname">m</tt><big>(</big><big>)</big><a class="headerlink" href="#datatank_py.DTMask.DTMask.m" title="Permalink to this definition">¶</a></dt>
<dd><p>first logical dimension</p>
</dd></dl>

<dl class="method">
<dt id="datatank_py.DTMask.DTMask.mask_array">
<tt class="descname">mask_array</tt><big>(</big><big>)</big><a class="headerlink" href="#datatank_py.DTMask.DTMask.mask_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a full uint8 mask array in the original mask shape</p>
</dd></dl>

<dl class="method">
<dt id="datatank_py.DTMask.DTMask.n">
<tt class="descname">n</tt><big>(</big><big>)</big><a class="headerlink" href="#datatank_py.DTMask.DTMask.n" title="Permalink to this definition">¶</a></dt>
<dd><p>second logical dimension</p>
</dd></dl>

<dl class="method">
<dt id="datatank_py.DTMask.DTMask.o">
<tt class="descname">o</tt><big>(</big><big>)</big><a class="headerlink" href="#datatank_py.DTMask.DTMask.o" title="Permalink to this definition">¶</a></dt>
<dd><p>third logical dimension</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="dtregion2d">
<h2>DTRegion2D<a class="headerlink" href="#dtregion2d" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="datatank_py.DTRegion2D.DTRegion2D">
<em class="property">class </em><tt class="descclassname">datatank_py.DTRegion2D.</tt><tt class="descname">DTRegion2D</tt><big>(</big><em>xmin=0</em>, <em>xmax=0</em>, <em>ymin=0</em>, <em>ymax=0</em><big>)</big><a class="headerlink" href="#datatank_py.DTRegion2D.DTRegion2D" title="Permalink to this definition">¶</a></dt>
<dd><p>2D region object.</p>
<p>This is a rectangle, commonly used for cropping regions and
bounding boxes of objects. It&#8217;s mainly provided for compatibility
with reading and writing other objects.</p>
<dl class="method">
<dt id="datatank_py.DTRegion2D.DTRegion2D.__init__">
<tt class="descname">__init__</tt><big>(</big><em>xmin=0</em>, <em>xmax=0</em>, <em>ymin=0</em>, <em>ymax=0</em><big>)</big><a class="headerlink" href="#datatank_py.DTRegion2D.DTRegion2D.__init__" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt><em>xmin</em></dt>
<dd>left side x</dd>
<dt><em>xmax</em></dt>
<dd>right side x</dd>
<dt><em>ymin</em></dt>
<dd>bottom y</dd>
<dt><em>ymax</em></dt>
<dd>top y</dd>
</dl>
<p>Arguments are converted to double precision.</p>
</dd></dl>

<dl class="attribute">
<dt id="datatank_py.DTRegion2D.DTRegion2D.dt_type">
<tt class="descname">dt_type</tt><em class="property"> = ('2D Region', 'Region2D')</em><a class="headerlink" href="#datatank_py.DTRegion2D.DTRegion2D.dt_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Type strings supported by DataTank</p>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Classes</a><ul>
<li><a class="reference internal" href="#dtdatafile">DTDataFile</a></li>
<li><a class="reference internal" href="#dtmesh2d">DTMesh2D</a></li>
<li><a class="reference internal" href="#dtstructuredgrid2d">DTStructuredGrid2D</a></li>
<li><a class="reference internal" href="#dtmask">DTMask</a></li>
<li><a class="reference internal" href="#dtregion2d">DTRegion2D</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="getting_started.html"
                        title="previous chapter">Getting started</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/classes.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="getting_started.html" title="Getting started"
             >previous</a> |</li>
        <li><a href="index.html">datatank_py 0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2014, Adam R. Maxwell.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.1.
    </div>
  </body>
</html>